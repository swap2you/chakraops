# Phase 6: Alerting configuration.
# Alert logic lives in app/core/alerts; Slack is delivery channel only.
# See docs/ALERTING.md for Slack policy, channel recommendations, and examples.

# -----------------------------------------------------------------------------
# enabled_alert_types
# -----------------------------------------------------------------------------
# Which alert types to generate and send. Types not listed are skipped (logged as
# "alert_type_disabled"). Options: DATA_HEALTH, REGIME_CHANGE, SIGNAL, SYSTEM,
# POSITION_ENTRY, POSITION_SCALE_OUT, POSITION_EXIT, POSITION_ABORT, POSITION_HOLD.
enabled_alert_types:
  - DATA_HEALTH
  - REGIME_CHANGE
  - SIGNAL
  - SYSTEM
  - POSITION_SCALE_OUT
  - POSITION_EXIT
  - POSITION_ABORT
  - POSITION_HOLD
  - PORTFOLIO_RISK_WARN
  - PORTFOLIO_RISK_BLOCK

# -----------------------------------------------------------------------------
# cooldown_hours
# -----------------------------------------------------------------------------
# Same fingerprint is not sent again within this many hours. Reduces noise when
# the same condition persists across runs. Default 6; set 0 to disable (not recommended).
cooldown_hours: 6

# -----------------------------------------------------------------------------
# lifecycle_cooldown_hours (Phase 2C)
# -----------------------------------------------------------------------------
# Lifecycle alerts (scale/exit/abort/hold) use separate cooldown per (position_id, action_type).
# Default 4 hours.
lifecycle_cooldown_hours: 4

# -----------------------------------------------------------------------------
# portfolio_alert_cooldown_hours (Phase 3)
# -----------------------------------------------------------------------------
# Portfolio risk alerts (WARN/BLOCK) use separate cooldown. Default 12 hours.
portfolio_alert_cooldown_hours: 12

# -----------------------------------------------------------------------------
# slack
# -----------------------------------------------------------------------------
# Default webhook: set SLACK_WEBHOOK_URL in env. If unset, alerts are logged only
# (UI shows "Alerts suppressed (Slack not configured)").
#
# channels: optional per-alert-type webhook URLs. Each Incoming Webhook posts to
# one Slack channel. Recommended channels (create in Slack, then add webhook URLs):
#   #chakraops-signals  -> SIGNAL, REGIME_CHANGE
#   #chakraops-health   -> DATA_HEALTH
#   #chakraops-ops      -> SYSTEM
# If a type is not listed below, the default SLACK_WEBHOOK_URL is used.
slack:
  channels:
    # Optional: per-alert-type webhooks. Add Incoming Webhook URLs from Slack (one per channel).
    # Example shape: SIGNAL: "YOUR_WEBHOOK_URL_FOR_CHANNEL"
    #   SIGNAL: "<paste webhook for #chakraops-signals>"
    #   REGIME_CHANGE: "<paste webhook for #chakraops-signals or same>"
    #   DATA_HEALTH: "<paste webhook for #chakraops-health>"
    #   SYSTEM: "<paste webhook for #chakraops-ops>"
    # Or use only SLACK_WEBHOOK_URL in env and leave channels empty.
